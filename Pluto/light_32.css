/* —— LIGHT, HIGH-CONTRAST, PROJECTOR-READY —————————————— */
:root {
  /* Core surfaces (make everything light) */
  --main-bg-color: #d6d7d8;
  --header-bg-color: #cfd6e3;
  --header-border-color: #bfc9dd;
  --footer-bg-color: #f3f4f6;
  --rule-color: rgba(0,0,0,0.12);
  --cursor-color: black;

  /* Cells & panels */
  --normal-cell: 0,0,0;
  --normal-cell-color: rgba(0,0,0,0.05);          /* transparent = use page bg */
  --dark-normal-cell-color: rgba(0,0,0,0.06);  /* subtle hover/active */
  --selected-cell-bg-color: rgb(37 99 235 / 14%);
  --disabled-cell-bg-color: rgba(0,0,0,0.05);
  --pluto-output-bg-color: #ffffff;
  --pluto-logs-bg-color: #ffffff;
  --pluto-runarea-bg-color: #f3f4f6;

  /* CodeMirror (editor) */
  --code-background: #d8cdcd;
  --cm-color-line-numbers: #2b2b2b;
  --cm-color-editor-text: #000000;
  --cm-selection-background: rgba(37,99,235,0.36);
  --cm-selection-background-blurred: rgba(37,99,235,0.26);
  --cm-highlighted: rgba(0,0,0,0.12);

  /* Tokens: dark, readable, projector-safe */
  --cm-color-comment: #374151;
  --cm-color-keyword: #0b3aa3;
  --cm-color-string:  #064e3b;
  --cm-color-number:  #5b3a00;
  --cm-color-property:#0a2e78;
  --cm-color-function:#0a2e78;
  --cm-color-builtin: #3c1d79;
  --cm-color-type:    #6b4000;
  --cm-color-var:     #000000;
  --cm-color-var2:    #000000;
  --cm-color-bracket: #000000;
  --cm-color-link:    #0a2e78;
  --cm-color-clickable-underline: rgba(0,0,0,0); /* remove noisy underlines */

  /* Errors & helpers */
  --cm-color-error-bg: #fecaca;
  --cm-color-error:    #7f1d1d;
  --cm-color-matchingBracket: #0b0f19;
  --cm-color-matchingBracket-bg: #dbeafe;
  --cm-color-placeholder-text: rgba(0,0,0,0.5);

  /* Mixed parsers (kept dark for contrast) */
  --cm-color-html: #0ea5e9;
  --cm-color-html-accent: #0369a1;
  --cm-color-css: #111827;
  --cm-color-css-accent: #0284c7;
  --cm-css-why-doesnt-codemirror-highlight-all-the-text-aaa: #111827;
  --cm-color-md: #374151;
  --cm-color-md-accent: #0b3aa3;
}

/* Light page background everywhere */
body:not(.disable_ui):not(.more-specificity) {
  background-color: var(--main-bg-color);
  background-image: none;
  background-attachment: fixed;
}

/* —— FORCE LIGHT EVEN IF OS PREFERS DARK —————————————— */
@media (prefers-color-scheme: dark) {
  :root {
    --main-bg-color: #ededed;
    --header-bg-color: #dce5f8;
    --header-border-color: #b0b5be;
    --footer-bg-color: #bec5d3;
    --rule-color: rgba(0,0,0,0.12);
    --cursor-color: black;

    --normal-cell: 30,30,30;
    --normal-cell-color: rgba(30,30,30,0.06);
    --dark-normal-cell-color: rgba(30,30,30,0.06);
    --selected-cell-bg-color: rgb(37 99 235 / 14%);
    --disabled-cell-bg-color: rgba(30,30,30,0.05);
    --pluto-output-bg-color: #ffffff;
    --pluto-logs-bg-color: #ffffff;
    --pluto-runarea-bg-color: #f3f4f6;

    --code-background: #f6f6f6;
    --cm-color-line-numbers: #2b2b2b;
    --cm-color-editor-text: #000000;
    --cm-selection-background: rgba(212, 235, 37, 0.36);
    --cm-selection-background-blurred: rgba(37,99,235,0.26);
    --cm-highlighted: rgba(0,0,0,0.12);

    --cm-color-comment: #525352;
    --cm-color-keyword: #091f4e;
    --cm-color-string:  #064e3b;
    --cm-color-number:  #5b3a00;
    --cm-color-property:#440447;
    --cm-color-function:#051535;
    --cm-color-builtin: #190b36;
    --cm-color-type:    #3a2301;
    --cm-color-var:     #000000;
    --cm-color-var2:    #000000;
    --cm-color-bracket: #000000;
    --cm-color-link:    #061e4e;
    --cm-color-clickable-underline: rgba(0,0,0,0);

    --cm-color-error-bg: #a55151;
    --cm-color-error:    #7f1d1d;
    --cm-color-matchingBracket: #0b0f19;
    --cm-color-matchingBracket-bg: #dbeafe;
    --cm-color-placeholder-text: rgba(0,0,0,0.5);

    --cm-color-html: #041f2c;
    --cm-color-html-accent: #002b43;
    --cm-color-css: #111827;
    --cm-color-css-accent: #024668;
    --cm-css-why-doesnt-codemirror-highlight-all-the-text-aaa: #111827;
    --cm-color-md: #374151;
    --cm-color-md-accent: #0b3aa3;
  }

  body:not(.disable_ui):not(.more-specificity) {
    background-color: var(--main-bg-color);
    background-image: none;
    background-attachment: fixed;
  }
}
